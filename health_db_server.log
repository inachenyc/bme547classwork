INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "POST /new_patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "POST /new_patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "POST /add_test HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "[31m[1mPOST /add_test HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "GET /get_results/201 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "[31m[1mGET /get_results/205 HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [26/Oct/2021 19:57:01] "[31m[1mGET /get_results/abc HTTP/1.1[0m" 400 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
ERROR:health_db_server:Exception on /new_patient [POST]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1394, in _get_socket
    sock_info = self.sockets.popleft()
IndexError: pop from an empty deque

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 72, in new_patient
    added_patient = add_database_entry(in_data["name"],
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 181, in add_database_entry
    answer = patient_to_add.save()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/base/models.py", line 476, in save
    result = self._mongometa.collection.replace_one(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/collection.py", line 952, in replace_one
    self._update_retryable(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/collection.py", line 877, in _update_retryable
    return self.__database.client._retryable_write(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1552, in _retryable_write
    return self._retry_with_session(retryable, func, s, None)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1438, in _retry_with_session
    return self._retry_internal(retryable, func, session, bulk)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1462, in _retry_internal
    with self._get_socket(server, session) as sock_info:
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1308, in _get_socket
    with server.get_socket(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1331, in get_socket
    sock_info = self._get_socket(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1397, in _get_socket
    sock_info = self.connect(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1297, in connect
    sock_info.check_auth(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 820, in check_auth
    self.authenticate(credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 837, in authenticate
    auth.authenticate(credentials, self)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 672, in authenticate
    auth_func(credentials, sock_info)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 590, in _authenticate_default
    return _authenticate_scram(credentials, sock_info, 'SCRAM-SHA-1')
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 333, in _authenticate_scram
    res = sock_info.command(source, cmd)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 710, in command
    return command(self, dbname, spec, secondary_ok,
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/network.py", line 161, in command
    helpers._check_command_response(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/helpers.py", line 167, in _check_command_response
    raise OperationFailure(errmsg, code, response, max_wire_version)
pymongo.errors.OperationFailure: bad auth : Authentication failed., full error: {'ok': 0, 'errmsg': 'bad auth : Authentication failed.', 'code': 8000, 'codeName': 'AtlasError'}
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:03] "[35m[1mPOST /new_patient HTTP/1.1[0m" 500 -
ERROR:health_db_server:Exception on /new_patient [POST]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1394, in _get_socket
    sock_info = self.sockets.popleft()
IndexError: pop from an empty deque

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 72, in new_patient
    added_patient = add_database_entry(in_data["name"],
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 181, in add_database_entry
    answer = patient_to_add.save()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/base/models.py", line 476, in save
    result = self._mongometa.collection.replace_one(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/collection.py", line 952, in replace_one
    self._update_retryable(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/collection.py", line 877, in _update_retryable
    return self.__database.client._retryable_write(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1552, in _retryable_write
    return self._retry_with_session(retryable, func, s, None)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1438, in _retry_with_session
    return self._retry_internal(retryable, func, session, bulk)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1462, in _retry_internal
    with self._get_socket(server, session) as sock_info:
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1308, in _get_socket
    with server.get_socket(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1331, in get_socket
    sock_info = self._get_socket(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1397, in _get_socket
    sock_info = self.connect(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1297, in connect
    sock_info.check_auth(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 820, in check_auth
    self.authenticate(credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 837, in authenticate
    auth.authenticate(credentials, self)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 672, in authenticate
    auth_func(credentials, sock_info)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 590, in _authenticate_default
    return _authenticate_scram(credentials, sock_info, 'SCRAM-SHA-1')
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 333, in _authenticate_scram
    res = sock_info.command(source, cmd)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 710, in command
    return command(self, dbname, spec, secondary_ok,
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/network.py", line 161, in command
    helpers._check_command_response(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/helpers.py", line 167, in _check_command_response
    raise OperationFailure(errmsg, code, response, max_wire_version)
pymongo.errors.OperationFailure: bad auth : Authentication failed., full error: {'ok': 0, 'errmsg': 'bad auth : Authentication failed.', 'code': 8000, 'codeName': 'AtlasError'}
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:03] "[35m[1mPOST /new_patient HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:03] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:03] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
ERROR:health_db_server:Exception on /add_test [POST]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1394, in _get_socket
    sock_info = self.sockets.popleft()
IndexError: pop from an empty deque

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 211, in add_test
    patient = find_patient(in_data["id"])
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 253, in find_patient
    patient = Patient.objects.raw({"_id": id_no}).first()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 128, in first
    return next(iter(self.limit(-1)))
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 544, in <genexpr>
    return (to_instance(doc) for doc in self._get_raw_cursor())
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1238, in next
    if len(self.__data) or self._refresh():
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1155, in _refresh
    self.__send_message(q)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1044, in __send_message
    response = client._run_operation(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1424, in _run_operation
    return self._retryable_read(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1518, in _retryable_read
    with self._secondaryok_for_server(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1371, in _secondaryok_for_server
    with self._get_socket(server, session) as sock_info:
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1308, in _get_socket
    with server.get_socket(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1331, in get_socket
    sock_info = self._get_socket(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1397, in _get_socket
    sock_info = self.connect(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1297, in connect
    sock_info.check_auth(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 820, in check_auth
    self.authenticate(credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 837, in authenticate
    auth.authenticate(credentials, self)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 672, in authenticate
    auth_func(credentials, sock_info)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 590, in _authenticate_default
    return _authenticate_scram(credentials, sock_info, 'SCRAM-SHA-1')
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 333, in _authenticate_scram
    res = sock_info.command(source, cmd)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 710, in command
    return command(self, dbname, spec, secondary_ok,
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/network.py", line 161, in command
    helpers._check_command_response(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/helpers.py", line 167, in _check_command_response
    raise OperationFailure(errmsg, code, response, max_wire_version)
pymongo.errors.OperationFailure: bad auth : Authentication failed., full error: {'ok': 0, 'errmsg': 'bad auth : Authentication failed.', 'code': 8000, 'codeName': 'AtlasError'}
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:04] "[35m[1mPOST /add_test HTTP/1.1[0m" 500 -
ERROR:health_db_server:Exception on /add_test [POST]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1394, in _get_socket
    sock_info = self.sockets.popleft()
IndexError: pop from an empty deque

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 211, in add_test
    patient = find_patient(in_data["id"])
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 253, in find_patient
    patient = Patient.objects.raw({"_id": id_no}).first()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 128, in first
    return next(iter(self.limit(-1)))
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 544, in <genexpr>
    return (to_instance(doc) for doc in self._get_raw_cursor())
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1238, in next
    if len(self.__data) or self._refresh():
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1155, in _refresh
    self.__send_message(q)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1044, in __send_message
    response = client._run_operation(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1424, in _run_operation
    return self._retryable_read(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1518, in _retryable_read
    with self._secondaryok_for_server(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1371, in _secondaryok_for_server
    with self._get_socket(server, session) as sock_info:
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1308, in _get_socket
    with server.get_socket(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1331, in get_socket
    sock_info = self._get_socket(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1397, in _get_socket
    sock_info = self.connect(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1297, in connect
    sock_info.check_auth(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 820, in check_auth
    self.authenticate(credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 837, in authenticate
    auth.authenticate(credentials, self)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 672, in authenticate
    auth_func(credentials, sock_info)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 590, in _authenticate_default
    return _authenticate_scram(credentials, sock_info, 'SCRAM-SHA-1')
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 333, in _authenticate_scram
    res = sock_info.command(source, cmd)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 710, in command
    return command(self, dbname, spec, secondary_ok,
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/network.py", line 161, in command
    helpers._check_command_response(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/helpers.py", line 167, in _check_command_response
    raise OperationFailure(errmsg, code, response, max_wire_version)
pymongo.errors.OperationFailure: bad auth : Authentication failed., full error: {'ok': 0, 'errmsg': 'bad auth : Authentication failed.', 'code': 8000, 'codeName': 'AtlasError'}
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:04] "[35m[1mPOST /add_test HTTP/1.1[0m" 500 -
ERROR:health_db_server:Exception on /get_results/201 [GET]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1394, in _get_socket
    sock_info = self.sockets.popleft()
IndexError: pop from an empty deque

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 342, in get_results
    validation_response, status_code = validate_patient_id(patient_id)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 372, in validate_patient_id
    patient = find_patient(id_no)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 253, in find_patient
    patient = Patient.objects.raw({"_id": id_no}).first()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 128, in first
    return next(iter(self.limit(-1)))
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 544, in <genexpr>
    return (to_instance(doc) for doc in self._get_raw_cursor())
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1238, in next
    if len(self.__data) or self._refresh():
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1155, in _refresh
    self.__send_message(q)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1044, in __send_message
    response = client._run_operation(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1424, in _run_operation
    return self._retryable_read(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1518, in _retryable_read
    with self._secondaryok_for_server(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1371, in _secondaryok_for_server
    with self._get_socket(server, session) as sock_info:
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1308, in _get_socket
    with server.get_socket(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1331, in get_socket
    sock_info = self._get_socket(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1397, in _get_socket
    sock_info = self.connect(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1297, in connect
    sock_info.check_auth(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 820, in check_auth
    self.authenticate(credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 837, in authenticate
    auth.authenticate(credentials, self)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 672, in authenticate
    auth_func(credentials, sock_info)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 590, in _authenticate_default
    return _authenticate_scram(credentials, sock_info, 'SCRAM-SHA-1')
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 333, in _authenticate_scram
    res = sock_info.command(source, cmd)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 710, in command
    return command(self, dbname, spec, secondary_ok,
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/network.py", line 161, in command
    helpers._check_command_response(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/helpers.py", line 167, in _check_command_response
    raise OperationFailure(errmsg, code, response, max_wire_version)
pymongo.errors.OperationFailure: bad auth : Authentication failed., full error: {'ok': 0, 'errmsg': 'bad auth : Authentication failed.', 'code': 8000, 'codeName': 'AtlasError'}
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:05] "[35m[1mGET /get_results/201 HTTP/1.1[0m" 500 -
ERROR:health_db_server:Exception on /get_results/205 [GET]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1394, in _get_socket
    sock_info = self.sockets.popleft()
IndexError: pop from an empty deque

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 342, in get_results
    validation_response, status_code = validate_patient_id(patient_id)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 372, in validate_patient_id
    patient = find_patient(id_no)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 253, in find_patient
    patient = Patient.objects.raw({"_id": id_no}).first()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 128, in first
    return next(iter(self.limit(-1)))
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymodm/queryset.py", line 544, in <genexpr>
    return (to_instance(doc) for doc in self._get_raw_cursor())
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1238, in next
    if len(self.__data) or self._refresh():
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1155, in _refresh
    self.__send_message(q)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/cursor.py", line 1044, in __send_message
    response = client._run_operation(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1424, in _run_operation
    return self._retryable_read(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1518, in _retryable_read
    with self._secondaryok_for_server(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1371, in _secondaryok_for_server
    with self._get_socket(server, session) as sock_info:
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/mongo_client.py", line 1308, in _get_socket
    with server.get_socket(
  File "/usr/local/Cellar/python@3.9/3.9.9/Frameworks/Python.framework/Versions/3.9/lib/python3.9/contextlib.py", line 119, in __enter__
    return next(self.gen)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1331, in get_socket
    sock_info = self._get_socket(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1397, in _get_socket
    sock_info = self.connect(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 1297, in connect
    sock_info.check_auth(all_credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 820, in check_auth
    self.authenticate(credentials)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 837, in authenticate
    auth.authenticate(credentials, self)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 672, in authenticate
    auth_func(credentials, sock_info)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 590, in _authenticate_default
    return _authenticate_scram(credentials, sock_info, 'SCRAM-SHA-1')
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/auth.py", line 333, in _authenticate_scram
    res = sock_info.command(source, cmd)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/pool.py", line 710, in command
    return command(self, dbname, spec, secondary_ok,
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/network.py", line 161, in command
    helpers._check_command_response(
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/pymongo/helpers.py", line 167, in _check_command_response
    raise OperationFailure(errmsg, code, response, max_wire_version)
pymongo.errors.OperationFailure: bad auth : Authentication failed., full error: {'ok': 0, 'errmsg': 'bad auth : Authentication failed.', 'code': 8000, 'codeName': 'AtlasError'}
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:05] "[35m[1mGET /get_results/205 HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:51:05] "[31m[1mGET /get_results/abc HTTP/1.1[0m" 400 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:50] "POST /new_patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:50] "POST /new_patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:50] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:50] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
ERROR:health_db_server:Exception on /add_test [POST]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 211, in add_test
    patient = find_patient(in_data["id"])
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 256, in find_patient
    return patien
NameError: name 'patien' is not defined
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:50] "[35m[1mPOST /add_test HTTP/1.1[0m" 500 -
ERROR:health_db_server:Exception on /add_test [POST]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 211, in add_test
    patient = find_patient(in_data["id"])
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 256, in find_patient
    return patien
NameError: name 'patien' is not defined
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:51] "[35m[1mPOST /add_test HTTP/1.1[0m" 500 -
ERROR:health_db_server:Exception on /get_results/201 [GET]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 342, in get_results
    validation_response, status_code = validate_patient_id(patient_id)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 372, in validate_patient_id
    patient = find_patient(id_no)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 256, in find_patient
    return patien
NameError: name 'patien' is not defined
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:51] "[35m[1mGET /get_results/201 HTTP/1.1[0m" 500 -
ERROR:health_db_server:Exception on /get_results/205 [GET]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 342, in get_results
    validation_response, status_code = validate_patient_id(patient_id)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 372, in validate_patient_id
    patient = find_patient(id_no)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 256, in find_patient
    return patien
NameError: name 'patien' is not defined
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:51] "[35m[1mGET /get_results/205 HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:54:51] "[31m[1mGET /get_results/abc HTTP/1.1[0m" 400 -
INFO:werkzeug: * Running on http://127.0.0.1:5000/ (Press CTRL+C to quit)
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:38] "POST /new_patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:38] "POST /new_patient HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:38] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:38] "[31m[1mPOST /new_patient HTTP/1.1[0m" 400 -
ERROR:health_db_server:Exception on /add_test [POST]
Traceback (most recent call last):
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 2073, in wsgi_app
    response = self.full_dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1518, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/Users/chenyuxuan/547_repos/bme547classwork/dbvenv/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/Users/chenyuxuan/547_repos/bme547classwork/health_db_server.py", line 214, in add_test
    add_test_result(patient, in_data)
TypeError: add_test_result() takes 1 positional argument but 2 were given
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:38] "[35m[1mPOST /add_test HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:38] "[31m[1mPOST /add_test HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:39] "GET /get_results/201 HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:39] "[31m[1mGET /get_results/205 HTTP/1.1[0m" 400 -
INFO:werkzeug:127.0.0.1 - - [25/Nov/2021 13:56:39] "[31m[1mGET /get_results/abc HTTP/1.1[0m" 400 -
